spring:
  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: http://keycloak:8081/realms/cloud_env
  application:
    name: GatewayWithKeycloak
  cloud:
    gateway:
      default-filters:
        - AddRequestHeader=X-Gateway-Received, true
      routes:
        # Frontend
        - id: frontend
          uri: http://gatewaywithkeycloak-login-1:3000/
          predicates:
            - Path=/**
          filters:
            - RewritePath=/(.*), /$1
        - id: frontend-assets
          uri: http://gatewaywithkeycloak-login-1:3000/
          predicates:
            - Path=/_next/**
            - Path=/favicon.ico
            - Path=/robots.txt

        # Backend API
        - id: backend
          uri: http://gateway:8080
          predicates:
            - Path=/api/**
